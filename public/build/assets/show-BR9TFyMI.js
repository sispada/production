import{_ as y,f as P,b as u,g as h,c as _,V as k,i as C,d as N,e as T}from"./App-D5mGj0zK.js";import{V as S}from"./VTextarea-tUN7aJYp.js";import{V as A}from"./VCombobox-CK3JnO7G.js";import{R as d,U as t,Y as b,m as e,a0 as p,W as c,Z as x,Q as v,a4 as R,a8 as D,F as w,S as s}from"./vue-C3IWtw_4.js";import"./vuetify-K2B9Zd4c.js";const M={name:"procurement-auction-show",methods:{submitAuction:function(o){this.$http(`procurement/api/auction/${o.id}/submitted`,{method:"POST",params:{...o,_method:"PUT"}}).then(()=>{this.$router.push({name:"procurement-auction"})})},qualifiedAuction:function(o){this.$http(`procurement/api/auction/${o.id}/qualified`,{method:"POST",params:{...o,_method:"PUT"}}).then(()=>{this.$router.push({name:"procurement-auction"})})},rejectedAuction:function(o){this.$http(`procurement/api/auction/${o.id}/rejected`,{method:"POST",params:{...o,_method:"PUT"}}).then(()=>{this.$router.push({name:"procurement-auction"})})},verifiedAuction:function(o){this.$http(`procurement/api/auction/${o.id}/verified`,{method:"POST",params:{...o,_method:"PUT"}}).then(()=>{this.$router.push({name:"procurement-auction"})})},abortedAuction:function(o){this.$http(`procurement/api/auction/${o.id}/aborted`,{method:"PUT",params:{...o,_method:"PUT"}}).then(()=>{this.$router.push({name:"procurement-auction"})})},evaluatedAuction:function(o){this.$http(`procurement/api/auction/${o.id}/avaluated`,{method:"PUT",params:{...o,_method:"PUT"}}).then(()=>{this.$router.push({name:"procurement-auction"})})}}},g={class:"position-absolute",style:{top:"0",right:"0"}};function L(o,n,F,O,j,V){const E=v("v-currency-field"),I=v("file-upload"),$=v("form-show");return s(),d($,{"with-helpdesk":""},{default:t(({combos:{officers:U,methods:i,types:f,workunits:r},record:a})=>[b("div",g,[e(C,{class:"mt-3 mr-4",color:"blue",size:"small"},{default:t(()=>[c(x(a.status),1)]),_:2},1024)]),e(T,null,{default:t(()=>[e(k,{dense:""},{default:t(()=>[e(u,{cols:"12"},{default:t(()=>[e(S,{label:"Nama Paket",rows:"2",modelValue:a.name,"onUpdate:modelValue":l=>a.name=l,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{cols:"12"},{default:t(()=>[e(E,{label:"Pagu",modelValue:a.ceiling,"onUpdate:modelValue":l=>a.ceiling=l,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{cols:"6"},{default:t(()=>[e(_,{items:f,label:"Tipe",modelValue:a.type_id,"onUpdate:modelValue":[l=>a.type_id=l,l=>o.fetchMinValue(l,a,f)],"hide-details":""},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{cols:"6"},{default:t(()=>[e(_,{items:i,label:"Metode",modelValue:a.method_id,"onUpdate:modelValue":l=>a.method_id=l,"hide-details":""},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{cols:"4"},{default:t(()=>[e(_,{items:[{title:"JANUARI",value:1},{title:"FEBRUARI",value:2},{title:"MARET",value:3},{title:"APRIL",value:4},{title:"MEI",value:5},{title:"JUNI",value:6},{title:"JULI",value:7},{title:"AGUSTUS",value:8},{title:"SEPTEMBER",value:9},{title:"OKTOBER",value:10},{title:"NOVEMBER",value:11},{title:"DESEMBER",value:12}],label:"Bulan",modelValue:a.month,"onUpdate:modelValue":l=>a.month=l,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{cols:"2"},{default:t(()=>[e(N,{label:"Tahun",modelValue:a.year,"onUpdate:modelValue":l=>a.year=l,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{cols:"6"},{default:t(()=>[e(_,{items:["APBN","APBNP","APBD","APBDP","PHLN","PNBP","BUMN","BUMD"],label:"Sumber Dana",modelValue:a.source,"onUpdate:modelValue":l=>a.source=l,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a.mode==="PPBJ"?(s(),d(u,{key:0,cols:"12"},{default:t(()=>[e(A,{items:U,"return-object":!1,label:"PPBJ",modelValue:a.officer_id,"onUpdate:modelValue":l=>a.officer_id=l,"hide-details":""},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)):p("",!0),e(u,{cols:"12"},{default:t(()=>[e(A,{items:r,"return-object":!1,label:"Unit Kerja",modelValue:a.workunit_id,"onUpdate:modelValue":l=>a.workunit_id=l,"hide-details":""},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),n[0]||(n[0]=b("div",{class:"text-overline px-4"},"dokumen",-1)),e(P),e(T,null,{default:t(()=>[e(k,{dense:""},{default:t(()=>[(s(!0),R(w,null,D(a.documents,(l,m)=>(s(),d(u,{key:m,cols:"12"},{default:t(()=>[e(I,{label:l.name,extension:l.extension,modelValue:l.path,"onUpdate:modelValue":B=>l.path=B,"backend-url":"/procurement/api/upload-document",density:"comfortable","hide-details":"",readonly:""},null,8,["label","extension","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),info:t(({combos:{workgroups:U},record:i,statuses:{isKASUBAG:f,isKABAG:r,isPOKJA:a},theme:l})=>[n[6]||(n[6]=b("div",{class:"text-overline mt-4"},"Aksi",-1)),e(P),e(k,{dense:""},{default:t(()=>[i.status==="SUBMITTED"&&f?(s(),d(u,{key:0,cols:"6"},{default:t(()=>[e(h,{class:"mt-3",color:l,block:"",onClick:m=>V.qualifiedAuction(i)},{default:t(()=>n[1]||(n[1]=[c("LENGKAP")])),_:2},1032,["color","onClick"])]),_:2},1024)):p("",!0),i.status==="SUBMITTED"&&f?(s(),d(u,{key:1,cols:"6"},{default:t(()=>[e(h,{class:"mt-3",color:"deep-orange",block:"",onClick:m=>V.rejectedAuction(i)},{default:t(()=>n[2]||(n[2]=[c("TOLAK")])),_:2},1032,["onClick"])]),_:2},1024)):p("",!0),i.status==="QUALIFIED"&&r?(s(),d(u,{key:2,cols:"12"},{default:t(()=>[e(_,{items:U,label:"Pokja",modelValue:i.workgroup_id,"onUpdate:modelValue":m=>i.workgroup_id=m,"hide-details":""},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)):p("",!0),i.status==="QUALIFIED"&&r?(s(),d(u,{key:3,cols:"6"},{default:t(()=>[e(h,{class:"mt-3",color:l,block:"",onClick:m=>V.verifiedAuction(i)},{default:t(()=>n[3]||(n[3]=[c("VERIFIKASI")])),_:2},1032,["color","onClick"])]),_:2},1024)):p("",!0),i.status==="QUALIFIED"&&r?(s(),d(u,{key:4,cols:"6"},{default:t(()=>[e(h,{class:"mt-3",color:"deep-orange",block:"",onClick:m=>V.abortedAuction(i)},{default:t(()=>n[4]||(n[4]=[c("BATALKAN")])),_:2},1032,["onClick"])]),_:2},1024)):p("",!0),i.status==="VERIFIED"&&a?(s(),d(u,{key:5,cols:"12"},{default:t(()=>[e(h,{class:"mt-3",color:l,block:"",onClick:m=>V.evaluatedAuction(i)},{default:t(()=>n[5]||(n[5]=[c("KIRIM EVALUASI")])),_:2},1032,["color","onClick"])]),_:2},1024)):p("",!0)]),_:2},1024)]),_:1})}const H=y(M,[["render",L]]);export{H as default};
