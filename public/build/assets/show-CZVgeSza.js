import{_ as v,f as r,e as _,b as d,g as p,V as b,d as u,N as V}from"./App-C2OvIBu-.js";import{V as y}from"./VTextarea-DFV2AWgR.js";import{R as U,U as t,Y as n,m as e,a0 as C,a3 as $,a4 as k,Z as f,W as m,F as w,Q as x,S as i}from"./vue-C3IWtw_4.js";import"./vuetify-lTcKoUmz.js";const B={name:"system-module-show",data:()=>({updateLoading:!1,updateStatus:!1,updateChecked:!1}),methods:{checkForUpdate:function(s){this.updateLoading=!0,this.$http(`system/api/module/${s.id}/check-for-update`).then(o=>{s.current_version=o.current_version,s.updated_version=o.updated_version,s.updated_notes=o.updated_notes,this.updateStatus=o.status,this.updateLoading=!1,this.updateChecked=!0}).catch(()=>{this.updateLoading=!1})},cancelUpdate:function(){this.updateChecked=!1,this.updateStatus=!1},processUpdate:function(s){this.$http(`system/api/module/${s.id}/process-update`).then(()=>{}).catch(()=>{})}}},S={key:0},A={key:1},L={class:"mt-2"},T={class:"text-caption"},F={class:"text-caption"},N={class:"text-caption"};function D(s,o,E,I,P,h){const g=x("form-show");return i(),U(g,{"with-helpdesk":"","with-activity-logs":""},{default:t(({record:l})=>[e(_,null,{default:t(()=>[e(b,{dense:""},{default:t(()=>[e(d,{cols:"12"},{default:t(()=>[e(u,{label:"Name",modelValue:l.name,"onUpdate:modelValue":a=>l.name=a,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:t(()=>[e(u,{label:"Type",modelValue:l.type,"onUpdate:modelValue":a=>l.type=a,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(u,{label:"Domain",modelValue:l.domain,"onUpdate:modelValue":a=>l.domain=a,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(u,{label:"Prefix",modelValue:l.prefix,"onUpdate:modelValue":a=>l.prefix=a,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(u,{label:"Color",modelValue:l.color,"onUpdate:modelValue":a=>l.color=a,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(u,{label:"Highlight",modelValue:l.highlight,"onUpdate:modelValue":a=>l.highlight=a,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:t(()=>[e(u,{label:"Icon",modelValue:l.icon,"onUpdate:modelValue":a=>l.icon=a,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:t(()=>[e(y,{label:"Repositori",rows:"2",modelValue:l.git_address,"onUpdate:modelValue":a=>l.git_address=a,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(V,{label:"Desktop",modelValue:l.desktop,"onUpdate:modelValue":a=>l.desktop=a,"hide-details":"",inset:"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(V,{label:"Mobile",modelValue:l.mobile,"onUpdate:modelValue":a=>l.mobile=a,"hide-details":"",inset:"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(V,{label:"Enabled",modelValue:l.enabled,"onUpdate:modelValue":a=>l.enabled=a,"hide-details":"",inset:"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(V,{label:"Published",modelValue:l.published,"onUpdate:modelValue":a=>l.published=a,"hide-details":"",inset:"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),info:t(({record:l,theme:a})=>[o[8]||(o[8]=n("div",{class:"text-overline mt-4"},"Aksi",-1)),e(r),s.updateChecked?(i(),U(_,{key:0,class:$(`bg-${a}-lighten-5 rounded-lg mt-3`)},{default:t(()=>[s.updateStatus?(i(),k("p",S,o[2]||(o[2]=[n("strong",null,"Update Is Available",-1)]))):(i(),k("p",A,[n("strong",null,"module "+f(l.name)+" is up to date.",1)])),n("div",L,[n("p",T," update version: "+f(l.updated_version),1),n("p",F," current version: "+f(l.current_version),1),n("p",N," updated notes: "+f(l.updated_notes),1)])]),_:2},1032,["class"])):C("",!0),e(b,{dense:""},{default:t(()=>[s.updateChecked&&s.updateStatus?(i(),k(w,{key:0},[e(d,{cols:"6"},{default:t(()=>[e(p,{class:"mt-3",color:`${a}-lighten-4`,block:"",variant:"flat",onClick:h.cancelUpdate},{default:t(()=>o[3]||(o[3]=[m("Cancel")])),_:2},1032,["color","onClick"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(p,{class:"mt-3",color:a,block:"",variant:"flat",onClick:c=>h.processUpdate(l)},{default:t(()=>o[4]||(o[4]=[m("Update")])),_:2},1032,["color","onClick"])]),_:2},1024)],64)):(i(),U(d,{key:1,cols:"12"},{default:t(()=>[e(p,{class:"mt-3",color:a,loading:s.updateLoading,block:"",variant:"flat",onClick:c=>h.checkForUpdate(l)},{default:t(()=>o[5]||(o[5]=[m("CHECK FOR UPDATE")])),_:2},1032,["color","loading","onClick"])]),_:2},1024))]),_:2},1024),o[9]||(o[9]=n("div",{class:"text-overline mt-4"},"Link",-1)),e(r),e(p,{class:"mt-3",color:a,block:"",variant:"flat",onClick:o[0]||(o[0]=c=>s.$router.push({name:"system-page"}))},{default:t(()=>o[6]||(o[6]=[m("BUKA PAGE")])),_:2},1032,["color"]),e(p,{class:"mt-3",color:a,block:"",variant:"flat",onClick:o[1]||(o[1]=c=>s.$router.push({name:"system-ability"}))},{default:t(()=>o[7]||(o[7]=[m("BUKA ABILITY")])),_:2},1032,["color"])]),_:1})}const z=v(B,[["render",D]]);export{z as default};
