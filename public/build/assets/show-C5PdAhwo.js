import{_ as v,b as k,w as t,j as n,e,l as y,k as r,i as _,aq as C,ar as U,t as V,f as d,m as p,n as m,T as $,V as b,g as u,a7 as f,d as w,o as i}from"./App-dC9iqPQ-.js";import{V as x}from"./VTextarea-BjOTh3qm.js";const B={name:"system-module-show",data:()=>({updateLoading:!1,updateStatus:!1,updateChecked:!1}),methods:{checkForUpdate:function(s){this.updateLoading=!0,this.$http(`system/api/module/${s.id}/check-for-update`).then(o=>{s.current_version=o.current_version,s.updated_version=o.updated_version,s.updated_notes=o.updated_notes,this.updateStatus=o.status,this.updateLoading=!1,this.updateChecked=!0}).catch(()=>{this.updateLoading=!1})},cancelUpdate:function(){this.updateChecked=!1,this.updateStatus=!1},processUpdate:function(s){this.$http(`system/api/module/${s.id}/process-update`).then(()=>{}).catch(()=>{})}}},T={key:0},A={key:1},L={class:"mt-2"},S={class:"text-caption"},D={class:"text-caption"},E={class:"text-caption"};function F(s,o,N,I,P,h){const g=w("form-show");return i(),k(g,{"with-helpdesk":"","with-activity-logs":""},{default:t(({record:l})=>[e(_,null,{default:t(()=>[e(b,{dense:""},{default:t(()=>[e(d,{cols:"12"},{default:t(()=>[e(u,{label:"Name",modelValue:l.name,"onUpdate:modelValue":a=>l.name=a,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:t(()=>[e(u,{label:"Type",modelValue:l.type,"onUpdate:modelValue":a=>l.type=a,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(u,{label:"Domain",modelValue:l.domain,"onUpdate:modelValue":a=>l.domain=a,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(u,{label:"Prefix",modelValue:l.prefix,"onUpdate:modelValue":a=>l.prefix=a,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(u,{label:"Color",modelValue:l.color,"onUpdate:modelValue":a=>l.color=a,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(u,{label:"Highlight",modelValue:l.highlight,"onUpdate:modelValue":a=>l.highlight=a,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:t(()=>[e(u,{label:"Icon",modelValue:l.icon,"onUpdate:modelValue":a=>l.icon=a,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:t(()=>[e(x,{label:"Repositori",rows:"2",modelValue:l.git_address,"onUpdate:modelValue":a=>l.git_address=a,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(f,{label:"Desktop",modelValue:l.desktop,"onUpdate:modelValue":a=>l.desktop=a,"hide-details":"",inset:"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(f,{label:"Mobile",modelValue:l.mobile,"onUpdate:modelValue":a=>l.mobile=a,"hide-details":"",inset:"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(f,{label:"Enabled",modelValue:l.enabled,"onUpdate:modelValue":a=>l.enabled=a,"hide-details":"",inset:"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(f,{label:"Published",modelValue:l.published,"onUpdate:modelValue":a=>l.published=a,"hide-details":"",inset:"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),info:t(({record:l,theme:a})=>[o[8]||(o[8]=n("div",{class:"text-overline mt-4"},"Aksi",-1)),e(r),s.updateChecked?(i(),k(_,{key:0,class:C(`bg-${a}-lighten-5 rounded-lg mt-3`)},{default:t(()=>[s.updateStatus?(i(),U("p",T,o[2]||(o[2]=[n("strong",null,"Update Is Available",-1)]))):(i(),U("p",A,[n("strong",null,"module "+V(l.name)+" is up to date.",1)])),n("div",L,[n("p",S," update version: "+V(l.updated_version),1),n("p",D," current version: "+V(l.current_version),1),n("p",E," updated notes: "+V(l.updated_notes),1)])]),_:2},1032,["class"])):y("",!0),e(b,{dense:""},{default:t(()=>[s.updateChecked&&s.updateStatus?(i(),U($,{key:0},[e(d,{cols:"6"},{default:t(()=>[e(p,{class:"mt-3",color:`${a}-lighten-4`,block:"",variant:"flat",onClick:h.cancelUpdate},{default:t(()=>o[3]||(o[3]=[m("Cancel")])),_:2},1032,["color","onClick"])]),_:2},1024),e(d,{cols:"6"},{default:t(()=>[e(p,{class:"mt-3",color:a,block:"",variant:"flat",onClick:c=>h.processUpdate(l)},{default:t(()=>o[4]||(o[4]=[m("Update")])),_:2},1032,["color","onClick"])]),_:2},1024)],64)):(i(),k(d,{key:1,cols:"12"},{default:t(()=>[e(p,{class:"mt-3",color:a,loading:s.updateLoading,block:"",variant:"flat",onClick:c=>h.checkForUpdate(l)},{default:t(()=>o[5]||(o[5]=[m("CHECK FOR UPDATE")])),_:2},1032,["color","loading","onClick"])]),_:2},1024))]),_:2},1024),o[9]||(o[9]=n("div",{class:"text-overline mt-4"},"Link",-1)),e(r),e(p,{class:"mt-3",color:a,block:"",variant:"flat",onClick:o[0]||(o[0]=c=>s.$router.push({name:"system-page"}))},{default:t(()=>o[6]||(o[6]=[m("BUKA PAGE")])),_:2},1032,["color"]),e(p,{class:"mt-3",color:a,block:"",variant:"flat",onClick:o[1]||(o[1]=c=>s.$router.push({name:"system-ability"}))},{default:t(()=>o[7]||(o[7]=[m("BUKA ABILITY")])),_:2},1032,["color"])]),_:1})}const H=v(B,[["render",F]]);export{H as default};
